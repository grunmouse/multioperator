# @grunmouse/multioperator


\@exports class Multioperator

## Назначение
Предназначен для создания и добавления в прототипы объектов перегружаемых унарных методов.

Может пригодиться при создании собственных библиотек.

## Логика использования

Каждый экземпляр Multioperator соответствует множеству методов, имеющих одинаковое, заданное при создании экземпляра, имя.

## Принцип действия



У каждого экземпляра Multioperator есть уникальный ключ (Symbol). Этот ключ используется в качестве имени метода, добавляемого в прототипы поддерживаемых классов.

Экземпляр класса Multioperator содержит открытые свойства
- {String} name - имя операции, передаётся в аргументе конструктора
- {Symbol} key - уникальный символ, создаётся в конструкторе

Метод def экземпляра создаёт реализацию метода.
-@method def(First, \[Second], Implementation)
где
First и Second - конструкторы,
Implementation - функция, принимающая один или два аргумента, причём, ожидающая, что первый аргумент будет экземпляром First, а второй - экземпляром Second.

В прототипе First будет создан метод с именем \[key]. Этот метод будет принимать один аргумент, проверять его тип, и запускать соответствующую функцию Implementation


## sample

```
const Class1 = require('./class1.js'), Class2 = require('./class2.js'); //Условные классы

//@const {Constructor} MOP
const MOP = require('@grunmouse/mutioperator'); //импорт пакета, MOP - конструктор

//@const {MOP} oper
const oper = new MOP('oper'); //Создаём объект, управляющий созданием методов

//@const {Symbol} OPER
const OPER = oper.key; //Получаем уникальный ключ операции, этот ключ будет служить именем метода

/* 
	Здесь в прототип Class1 добавляется метод под именем [OPER], 
	Этот метод, принимает один аргумент.
	В случае если аргумент - экземпляр Class2 или его наследника, 
	то будет вызвана переданная функция, с двумя аргументами, где первый - это контекст метода, а второй - аргумент метода.
	Метод вернёт то, что возвратит эта функция
*/
oper.def(Class1, Class2, (a, b)=>("" + a + b)); 

let inst1 = new Class1(), inst2 = new Class2(); //

let res = (inst1)[OPER](inst2);
```
